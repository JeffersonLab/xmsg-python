#!/usr/bin/bash
# author royarzun
# date 12.16.14

if [ "$1" = "-h" -o "$1" = "-help" ]
then
	echo ""
	echo "Starts xMsgRegistrar node (python binding)"
	echo "------------------------------------------"
	echo "synopsis: px_node"
	echo ""

elif [ "$1" = "--fe_host" ]
then
	if ! $(python -c 'from xmsg.xsys.xMsgRegistrar import runner' &> /dev/null);
	then
		echo "Please check that you have xMsg and its dependencies installed in your system or virtual environment ";
	else
		python -c 'from xmsg.xsys.xMsgRegistrar import runner; runner('\"$2\"')'
	fi

else
	if ! $(python -c 'from xmsg.xsys.xMsgRegistrar import runner' &> /dev/null);
	then
		echo "Please check that you have xMsg and its dependencies installed in your system or virtual environment ";
	else
		python -c 'from xmsg.xsys.xMsgRegistrar import runner; runner()'
	fi
fi
